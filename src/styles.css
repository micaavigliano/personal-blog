@import "tailwindcss";
@plugin "tailwindcss-animate";

@layer base {
  :root {
    /* Pure black & white base */
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;

    /* Cards with subtle borders */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 0%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;

    /* Primary: Black */
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;

    /* Secondary: Soft lavender (AAA contrast) */
    --secondary: 262 85% 85%;
    --secondary-foreground: 0 0% 0%;

    /* Muted: Light gray */
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 40%;

    /* Accent: Soft lavender */
    --accent: 262 85% 63.65%;
    --accent-foreground: 0 0% 0%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Borders / inputs / ring */
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 0 0% 0%;

    /* Radius token used to derive Tailwind radii */
    --radius: 0.75rem;

    /* Pastel accents */
    --lavender: 262 60% 55%;
    --mint: 151 55% 45%;
    --peach: 38 80% 45%;
    --sky: 199 70% 45%;
  }

  .dark {
    /* Dark mode: inverted with soft pastels */
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;

    --card: 0 0% 5%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 5%;
    --popover-foreground: 0 0% 100%;

    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;

    --secondary: 262 85% 85%;
    --secondary-foreground: 0 0% 0%;

    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 60%;

    --accent: 262 85% 85%;
    --accent-foreground: 0 0% 0%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 0 0% 100%;

    --lavender: 262 60% 55%;
    --mint: 151 55% 45%;
    --peach: 38 80% 70%;
    --sky: 199 70% 45%;
  }
}

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  /* Extra named colors */
  --color-lavender: hsl(var(--lavender));
  --color-mint: hsl(var(--mint));
  --color-peach: hsl(var(--peach));
  --color-sky: hsl(var(--sky));

  /* Radii (so rounded-lg/md/sm pick up your token) */
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  /* Optional: custom breakpoint like your old 2xl=1400px */
  --breakpoint-2xl: 1400px;

  /* Focus ring color */
  --focus-ring-primary: #0066ff;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  *:focus {
    outline: none;
  }

  /* Primary focus style - High contrast blue ring with more outer spacing */
  *:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px var(--focus-ring-primary), 0 0 0 8px rgba(0, 102, 255, 0.25);
    outline-offset: 4px;
    border-radius: 8px;
    padding: 10px;
  }

  /* Button focus styles - More prominent with outer spacing */
  button:focus-visible,
  [role="button"]:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px var(--focus-ring-primary), 0 0 0 8px rgba(0, 102, 255, 0.3), 0 6px 16px rgba(0, 102, 255, 0.2);
    outline-offset: 6px;
    transform: translateY(-1px);
    padding: 10px;
  }

  /* Link focus styles - Ensure visibility for keyboard navigation */
  a:focus-visible {
    outline: 2px solid var(--focus-ring-primary);
    border-radius: 6px;
    text-decoration: underline;
    text-decoration-thickness: 3px;
    text-underline-offset: 6px;
    text-decoration-color: var(--focus-ring-primary);
    position: relative;
    z-index: 10;
    padding: 10px;
  }

  /* Ensure links always show focus, even with custom classes */
  a:focus-visible,
  a.focus-enhanced:focus-visible,
  a.nav-focus:focus-visible {
    outline: 2px solid var(--focus-ring-primary);
    border-radius: 6px !important;
    text-decoration: underline;
    text-decoration-color: var(--accent);
    text-decoration-thickness: 3px;
    text-underline-offset: 6px;
    padding: 10px;
  }

  /* Form input focus styles */
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px var(--focus-ring-primary), 0 0 0 8px rgba(0, 102, 255, 0.2);
    border-color: var(--focus-ring-primary);
    outline-offset: 2px;
    transition: all 0.15s ease-in-out;
    padding: 10px;
  }

  /* Card and interactive element focus */
  [tabindex]:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px var(--focus-ring-primary), 0 0 0 8px rgba(0, 102, 255, 0.25);
    outline-offset: 6px;
    border-radius: 12px;
    transition: all 0.15s ease-in-out;
    padding: 10px;
  }

  .skip-link:focus-visible {
    background: var(--color-lavender);
    color: black;
    font-weight: 700;
    font-size: 18px;
    border-radius: 12px;
    box-shadow: 0 0 0 4px white, 0 0 0 8px var(--focus-ring-primary), 0 12px 32px rgba(0, 0, 0, 0.4);
    text-decoration: none;
    transform: translateY(0);
    transition: all 0.15s ease-in-out;
    outline: none;
  }

  .skip-link:focus {
    position: static;
    width: fit-content;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip-path: none;
    white-space: normal;
  }

}

@layer utilities {
  .nav-focus:focus-visible {
    box-shadow: 0 0 0 4px var(--focus-ring-primary), 0 0 0 8px rgba(0, 102, 255, 0.25);
    background-color: rgba(0, 102, 255, 0.08);
    text-decoration-color: var(--color-lavender);
    outline-offset: 4px;
    border-radius: 10px;
  }
}

@keyframes accordion-down {
  from {
    height: 0
  }

  to {
    height: var(--radix-accordion-content-height)
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height)
  }

  to {
    height: 0
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px)
  }

  100% {
    opacity: 1;
    transform: translateY(0)
  }
}

@utility animate-accordion-down {
  animation: accordion-down 0.2s ease-out;
}

@utility animate-accordion-up {
  animation: accordion-up 0.2s ease-out;
}

@utility animate-fade-in {
  animation: fade-in 0.6s ease-out;
}